version: 1
workflow_id: outcome_b_grant_readiness
name: Grant Readiness Snapshot
owner: TITAN
governance:
  covenant_compliant: true
  ev_check_required: true

steps:
  - id: step_ingest_docs
    agent: AGENT_INGESTION_HYDRA
    action: ingest
    required_inputs: ["docs_url_or_path"]
    output_key: "docs_artifact_id"

  - id: step_check_criteria
    agent: AGENT_CONTEXT_ASSEMBLER
    action: assemble
    inputs:
      focus: "grant_eligibility_gaps"
      artifact_ref: "${step_ingest_docs.docs_artifact_id}"
    output_key: "gap_analysis_packet"

  - id: step_generate_report
    agent: AGENT_WORKFLOW_CONDUCTOR
    action: generate_text
    inputs:
      prompt_template: "templates/grant_gap_report.txt"
      context_ref: "${step_check_criteria.gap_analysis_packet}"
    output_key: "final_report"
