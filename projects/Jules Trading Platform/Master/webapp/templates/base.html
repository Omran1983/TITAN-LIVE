<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JULES // CITADEL COMMAND</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'hud-black': '#050510',
                        'hud-dark': 'rgba(10, 15, 25, 0.90)',
                        'hud-card': 'rgba(20, 30, 50, 0.6)',
                        'neon-gold': '#FFD700',
                        'neon-cyan': '#00F0FF',
                        'neon-purple': '#BD00FF',
                        'neon-red': '#FF003C',
                        'neon-green': '#00FF41',
                    },
                    fontFamily: {
                        'sans': ['Rajdhani', 'sans-serif'],
                        'mono': ['Share Tech Mono', 'monospace'],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, rgba(0, 240, 255, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(0, 240, 255, 0.1) 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #000;
            background-image: url('/static/images/bg.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #f0f0f0;
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            /* Increased font base */
            overflow: hidden;
        }

        /* HUD Overlay */
        .hud-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 5, 10, 0.7);
            /* Darken the background image slightly */
            pointer-events: none;
            z-index: -1;
        }

        /* Glass / Hologram Panels */
        .holo-panel {
            background: rgba(10, 20, 35, 0.65);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(0, 240, 255, 0.2);
            box-shadow: 0 0 15px rgba(0, 240, 255, 0.1), inset 0 0 20px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        /* Corner Accents */
        .holo-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 10px;
            height: 10px;
            border-top: 2px solid #00F0FF;
            border-left: 2px solid #00F0FF;
        }

        .holo-panel::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 10px;
            height: 10px;
            border-bottom: 2px solid #00F0FF;
            border-right: 2px solid #00F0FF;
        }

        /* Animations */
        @keyframes scanline {
            0% {
                transform: translateY(-100%);
            }

            100% {
                transform: translateY(100%);
            }
        }

        .scanline {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent, rgba(0, 240, 255, 0.05), transparent);
            animation: scanline 6s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        .text-glow-cyan {
            text-shadow: 0 0 8px rgba(0, 240, 255, 0.8);
        }

        .text-glow-gold {
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.8);
        }

        .text-glow-red {
            text-shadow: 0 0 8px rgba(255, 0, 60, 0.8);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #050510;
        }

        ::-webkit-scrollbar-thumb {
            background: #00F0FF;
            border-radius: 0;
        }

        .nav-item.active {
            /* Active state logic moved to JS for consistency */
        }
    </style>
</head>

<body class="flex flex-col h-screen text-gray-200 selection:bg-neon-cyan selection:text-black">

    <div class="hud-overlay"></div>
    <div class="fixed inset-0 pointer-events-none z-0 opacity-20"
        style="background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, #00F0FF 3px);"></div>

    <!-- Header / Top Bar -->
    <header
        class="flex-none h-18 border-b border-neon-cyan/30 flex items-center justify-between px-6 bg-hud-dark/80 backdrop-blur-md z-50">
        <div class="flex items-center gap-4">
            <div class="text-3xl text-neon-cyan font-bold tracking-widest font-audio-wide flex items-center gap-2">
                <i class="fas fa-cube text-xl animate-pulse"></i> JULES<span class="text-white">OS</span>
            </div>
            <div class="h-6 w-px bg-white/20"></div>
            <div class="text-xs font-mono text-neon-gold tracking-widest">SYSTEM READY // V5.1</div>
        </div>

        <nav class="flex gap-1" id="main-nav">
            <a href="/"
                class="nav-item px-6 py-2 hover:bg-white/5 transition flex items-center gap-2 border-r border-white/5 text-lg">
                <i class="fas fa-th-large text-sm"></i> COMMAND
            </a>
            <a href="/trade_log"
                class="nav-item px-6 py-2 hover:bg-white/5 transition flex items-center gap-2 border-r border-white/5 text-lg">
                <i class="fas fa-list-ul text-sm"></i> LOGS
            </a>
            <a href="/analytics"
                class="nav-item px-6 py-2 hover:bg-white/5 transition flex items-center gap-2 border-r border-white/5 text-lg">
                <i class="fas fa-chart-area text-sm"></i> DATA
            </a>
            <a href="/optimizer" class="nav-item px-6 py-2 hover:bg-white/5 transition flex items-center gap-2 text-lg">
                <i class="fas fa-dna text-sm"></i> EVOLVE
            </a>
        </nav>

        <div class="flex items-center gap-4 font-mono text-xs">
            <div class="flex flex-col items-end">
                <span class="text-gray-400">NET CAPITAL</span>
                <span id="header-capital" class="text-lg text-white font-bold">$0.00</span>
            </div>
            <div class="h-8 w-8 rounded border border-neon-green flex items-center justify-center bg-neon-green/10">
                <i class="fas fa-power-off text-neon-green"></i>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-hidden p-6 gap-6 flex">
        {% block content %}{% endblock %}
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>

    <script>
        // Active Tab Logic
        document.addEventListener('DOMContentLoaded', () => {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('#main-nav a');
            navLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href === currentPath) {
                    link.classList.add('bg-white/10', 'text-white', 'border-b-2', 'border-neon-cyan');
                    link.classList.remove('text-gray-400');
                    // Ensure icon color pops too if needed, though text-white handles inheritance
                } else {
                    link.classList.add('text-gray-400');
                    link.classList.remove('bg-white/10', 'border-b-2', 'border-neon-cyan', 'text-white');
                }
            });
        });
    </script>

    {% block scripts %}{% endblock %}
</body>

</html>